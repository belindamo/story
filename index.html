<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>your story</title>
  </head>
  <body>
    <main>
      <!-- <script>
        // Get the popup
        var popup = document.getElementById("research-popup");

        // Get the <span> element that closes the popup
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on <span> (x), close the popup
        span.onclick = function() {
          popup.style.display = "none";
        }

        // When the user clicks anywhere outside of the popup, close it
        window.onclick = function(event) {
          if (event.target == popup) {
            popup.style.display = "none";
          }
        }
      </script>


      <div id="privacy" class="section">
        <div id="research-popup" class="popup">
          <div class="popup-content">
            <span class="close">&times;</span>
            <h3>Hey there!</h3>
            <p>This was created as part of a research experiment. Would you be willing to share your cards and learning interactions with us? We'll anonymize everything and it'll help us create quantifiable results on how to best learn!</p>
            <div class="popup-buttons">
              <button id="no-thanks">No thanks</button>
              <button id="share-data">Sure, I'll share!</button>
            </div>
          </div>
        </div>
      </div>
       -->

      <!-- HOME 1 -->
      <div id="home" class="section hidden">
        <h2>learn for the long term</h2>
        <p>
          your name: 
          <input id="your-name"/>
        </p>
      </div>

      <!-- HOME 2 -->
      <div id="home-2" class="section hidden">
        <h2 id="home-2-header">it's a good day to learn</h2>
        <p id="home-2-text">your flashcards are stored in your local folder "<span id="home-2-folder-path"></span>"</p>
        <p id="home-2-text">use Obsidian + spaced repetition plugin to review the cards</p>
        <span id="home-2-new">
          <!-- new:  -->
        </span>
        <span id="home-2-learn">
          <!-- learning:  -->
        </span>
        <span id="home-2-review">
          <!-- to review:  -->
        </span>
        <!-- <button id="start-review" onclick="location.href='review.html'">review</button> -->
        <button id="add-materials"><i class="shortcut">↵</i>add materials</button>
        <!-- <a href="tasks.html">tasks</a> -->
        <p id="home-2-error" class="hidden">hm...something happened. try again?</p>
        <p id="home-2-update-status" class="hidden"></p>
      </div>
      
      <!-- UPLOAD -->
      <div id="upload" class="section hidden">
        <h2 id="upload-header">please upload information that you'd like to remember for the long-term (1+ years)</h2>
        <p id="upload-text">important: choose a resource that you feel is reputable and aligned with your values, since its concepts will stick to your brain</p>
        <div id="upload-file-paths"></div>
        <p>
          <!-- your pdf, md, txt, or doc:  -->
          <button id="upload-files"><i class="shortcut">↵</i>add your .pdf, .md, .txt, or .doc</button>
          <p>or <i class="shortcut" id="paste">⌘ v</i> a valid wikipedia url:</p>
          <div style="display: flex;">
            <input id='wiki-url' type="text" placeholder="https://en.wikipedia.org/wiki/Earth" />
          </div>
        </p>
        <button id="upload-next"><i class="shortcut">⌘ ↵</i>next</button>
        <p class="hidden" id="upload-error">Please upload a valid file</p>
      </div>

      <!-- NOTES -->
      <div id="notes" class="section hidden">
        <h2 id="notes-header">what do you want to remember?</h2>
        <p id="notes-text">terms, concepts, sections · your  notes · personal motivations · interesting points · other additional context </p>
        <!-- why is this material interesting to you? -->
        <p>
          <!-- your pdf, md, txt, or doc:  -->
          <textarea id="notes-prompt" placeholder="describe"> </textarea>
          <div>
            <p>Number of flashcards (1-48):</p>
            <input type="range" id="n-cards" min="1" max="48" value="4">
          <!-- <button id="notes-files">add your .pdf, .md, .txt, or .doc context files</button> -->
          <!-- <p id="notes-file-paths"></p> -->
          </div>
        </p>
        <button id="notes-next"><i class="shortcut">⌘ ↵</i>next</button>
        <p class="hidden" id="notes-error">Please upload a valid file</p>
      </div>

      <!-- SAVE FOLDER -->
      <div id="save-folder" class="section hidden">
        <h2>choose a folder to store your generated learning materials</h2>
        <p>your source materials will be copied to the subfolder 'sources' within your specified folder</p>
        <p>if you use Obsidian, I'd recommend using a folder in your vault</p>
        <p>
          <button id="save-folder-button">Choose folder</button>
          <p id="save-folder-path"></p>
        </p>
        <button id="save-folder-next" class="hidden">next</button>
        <p class="hidden" id="save-folder-error">Please select a valid folder</p>
      </div>

      <!-- GENERATE -->
      <div id="generate" class="section hidden">
        <h2 id="generate-header">spitting bars..</h2>
        <p id="generate-status"></p>
        <p id="generate-interims"></p>
        <p>
          <button id='back-home'>home</a></button>
          <button id="go-to-modify"><i class="shortcut">⌘ ↵</i>modify cards</button>
        </p>
      </div>

      <!-- MODIFY CARDS  -->
       <div id="modify" class="section hidden">
          <div id="modify-buttons">
            <div id="modify-buttons-control">
              <button id="modify-prev"><i class="shortcut">⌘ ←</i>previous</button>
              <button id="modify-next"><i class="shortcut">⌘ →</i>next</button>
              <button id="modify-delete"><i class="shortcut">⌘ ↓</i>delete card</button>
              <button id="modify-new"><i class="shortcut">⌘ n</i>add card</button>
              <!-- <button id="modify-generate"><i class="shortcut">⌘ k</i>regenerate w/prompt</button> -->
              <!-- <button id="modify-children"><i class="shortcut">⌘ ⇧ k</i>generate new cards w/prompt</button> -->
              <br/>
              <button id="modify-save">
                <i class="shortcut">⌘ s</i>
                <span id="modify-save-span">save cards</span>
              </button>
              <button id="modify-back"><i class="shortcut">⌘ shift ↵</i>back</button>
              <button id="modify-done"><i class="shortcut">⌘ ↵</i>done</button>
              
            <p>↵ to edit card, shift / tab to switch focus between front and back</p>
          </div>
          <div id="modify-card">
            <p>Front</p>
            <textarea id="modify-card-question"></textarea>
            <p>Back</p>
            <textarea id="modify-card-answer"></textarea>
          </div>
          <p id="modify-card-index"></p>

       </div>

    </main>
    <script type="module" src="src/components/footer.ts"></script>
    <script type="module" src="/src/renderers/index.ts"></script>
  </body>
  </html>